<!DOCTYPE html>
<html>
<head>
  <title>SQL Practice</title>
  <script src="/static/app.js" defer></script>
  <link rel="manifest" href="/static/manifest.json">
  <meta name="theme-color" content="#1f4f5f">
</head>

<body>

<div class="sidebar">
  <h1>SQL Practice</h1>
  <a href="/?level=easy">Easy</a><br>
  <a href="/?level=medium">Medium</a><br>
  <a href="/?level=hard">Hard</a>
</div>

<div class="main">

  <div class="left">

    <div class="card">
      <h3>{{ q.question }}</h3>
      <p>Question {{ q.number }} of {{ q.total }}</p>
      <button onclick="toggleTables()">ðŸ“‹ Show Tables</button>
    </div>

    <div class="card">
      <input type="hidden" id="qid" value="{{ q.id }}">
      <textarea id="sql"></textarea><br><br>

      <button onclick="runQuery()">Run</button>
      <button onclick="showAnswer()">I donâ€™t know</button>
    </div>

    <div class="card" id="output"></div>

    <div class="card">
      <h3>ðŸ¤– AI Assistant</h3>
      <input id="aiInput" placeholder="Ask anything">
      <button onclick="askAIMentor()">Ask</button>
      <button onclick="startVoiceInput()">ðŸŽ¤ Speak</button>
      <p id="aiOutput"></p>
    </div>

    <button id="installBtn" onclick="installApp()" style="display:none;">
      ðŸ“² Install App
    </button>

  </div>

  <div class="right" id="tablePanel" style="display:none">
    <div class="card">
      <h3>Available Tables</h3>
      <div id="tableInfo"></div>
    </div>
  </div>
/* ========= FORCE RESTORE THEME ========= */

button {
  background: linear-gradient(135deg, #38bdf8, #0ea5e9) !important;
  color: white !important;
  border: none !important;
  padding: 10px 18px !important;
  border-radius: 8px !important;
  font-size: 14px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  box-shadow: 0 4px 10px rgba(14,165,233,0.3) !important;
}

button:hover:not(.disabled):not(.active):not(.listening) {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(14,165,233,0.45);
}

button.listening {
  background: linear-gradient(135deg, #ef4444, #b91c1c) !important;
  animation: pulse 1.2s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(239,68,68,0.7); }
  70% { box-shadow: 0 0 0 12px rgba(239,68,68,0); }
  100% { box-shadow: 0 0 0 0 rgba(239,68,68,0); }
}

</div>

</body>
</html>
